<!DOCTYPE html>
<meta charset="utf-8">
<html>
	<head>
		<title>Employment and Occupations</title>
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<script src="https://d3plus.org/js/d3plus.v2.0.0-alpha.16.full.min.js"></script>
	<style>
		#viz {
			float: left;
			top:5px;
			left:15px;
			height: 450px;
			width: 95%;
		}
	</style>
	</head>
	<style>
		body {
		font-family: 'Roboto Condensed', sans-serif;
		}
	</style>
	<body>
	<div id="viz"></div>
		<script>
			var data = [
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Management", value: 22.1, year: 2016, employees: "3,381"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Business and Financial Operations",  value: 9.25, year: 2016, employees: "1,415"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Computer and Mathematical", value: 9.41,  year: 2016, employees: "1,140"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Architecture and Engineering", value: 4.89, year: 2016, employees: "748"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Life, Physical, and Social Science",   value: 7.55, year: 2016},
		{color: "#fdba71", group: "Service", id: "Community and Social Services", value: 1.67, year: 2016},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Legal", value: 2.34, year: 2016},
		{color: "#fdba71", group: "Service", id: "Education, Training, and Library", value: 9.09, year: 2016},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Arts and Leisure", value: 3.35, year: 2016},
		{color: "#fdba71", group: "Service", id: "Health Practitioner", value: 7.34, year: 2016},
		{color: "#fdba71", group: "Service", id: "Healthcare Support", value: 0.73, year: 2016},
		{color: "#fdba71", group: "Service", id: "Firefighting Supervisors", value: 1.01, year: 2016},
		{color: "#fdba71", group: "Service", id: "Food and Serving", value: 2.29, year: 2016},
		{color: "#fdba71", group: "Service", id: "Cleaning and Maintenance", value: 0.98, year: 2016},
		{color: "#fdba71", group: "Service", id: "Personal Care and Service", value: 1.99, year: 2016},
		{color: "#2fa3a2", group: "Sales & Office", id: "Sales", value: 6.37, year: 2016},
		{color: "#2fa3a2", group: "Sales & Office", id: "Administrative", value: 5.18, year: 2016},
		{color: "#46778c", group: "Construction, & Maintenance", id: "Construction and Extraction", value: 0.71, year: 2016},
		{color: "#46778c", group: "Construction, & Maintenance", id: "Installation, Maintenance and Repair", value: 0.64, year: 2016},
		{color: "#595297", group: "Production & Transportation", id: "Production", value: 1.26, year: 2016},
		{color: "#595297", group: "Production & Transportation", id: "Material Moving", value: 0.51, year: 2016},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Management", value: 22.03, year: 2015, image: "https://datausa.io/static/img/attrs/thing_apple.png"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Business and Financial Operations",  value: 9.24, year: 2015, image: "https://datausa.io/static/img/attrs/thing_apple.png"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Computer and Mathematical", value: 9.45,  year: 2015, image: "https://datausa.io/static/img/attrs/thing_apple.png"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Architecture and Engineering", value: 4.29, year: 2015, image: "https://datausa.io/static/img/attrs/thing_apple.png"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Life, Physical, and Social Science",   value: 7.55, year: 2015},
		{color: "#fdba71", group: "Service", id: "Community and Social Services", value: 1.26, year: 2015},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Legal", value: 2.66, year: 2015},
		{color: "#fdba71", group: "Service", id: "Education, Training, and Library", value: 9.67, year: 2015},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Arts and Leisure", value: 3.51, year: 2015},
		{color: "#fdba71", group: "Service", id: "Health Practitioner", value: 6.54, year: 2015},
		{color: "#fdba71", group: "Service", id: "Healthcare Support", value: 0.78, year: 2015},
		{color: "#fdba71", group: "Service", id: "Law Enforcement Supervisors", value: 1.09, year: 2015},
		{color: "#fdba71", group: "Service", id: "Food and Serving", value: 2.11, year: 2015},
		{color: "#fdba71", group: "Service", id: "Cleaning and Maintenance", value: 0.91, year: 2015},
		{color: "#fdba71", group: "Service", id: "Personal Care and Service", value: 2.38, year: 2015},
		{color: "#2fa3a2", group: "Sales & Office", id: "Sales", value: 6.41, year: 2015},
		{color: "#2fa3a2", group: "Sales & Office", id: "Administrative", value: 5.18, year: 2015},
		{color: "#46778c", group: "Construction, & Maintenance", id: "Construction and Extraction", value: 0.88, year: 2015},
		{color: "#46778c", group: "Construction, & Maintenance", id: "Installation, Maintenance and Repair", value: 0.70, year: 2015},
		{color: "#595297", group: "Production & Transportation", id: "Production", value: 1.73, year: 2015},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Management", value: 21.70, year: 2014, image: "https://datausa.io/static/img/attrs/thing_apple.png"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Business and Financial Operations",  value: 8.62, year: 2014, image: "https://datausa.io/static/img/attrs/thing_apple.png"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Computer and Mathematical", value: 9.37,  year: 2014, image: "https://datausa.io/static/img/attrs/thing_apple.png"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Architecture and Engineering", value: 4.19, year: 2014, image: "https://datausa.io/static/img/attrs/thing_apple.png"},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Life, Physical, and Social Science", value: 7.52, year: 2014},
		{color: "#fdba71", group: "Service", id: "Community and Social Services", value: 1.33, year: 2014},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Legal", value: 3.01, year: 2014},
		{color: "#fdba71", group: "Service", id: "Education, Training, and Library", value: 9.98, year: 2014},
		{color: "#fd8c73", group: "Management, Business, Science, & Arts", id: "Arts and Leisure", value: 3.17, year: 2014},
		{color: "#fdba71", group: "Service", id: "Health Practitioner", value: 7.32, year: 2014},
		{color: "#fdba71", group: "Service", id: "Healthcare Support", value: 0.73, year: 2014},
		{color: "#fdba71", group: "Service", id: "Law Enforcement Supervisors", value: 0.98, year: 2014},
		{color: "#fdba71", group: "Service", id: "Food and Serving", value: 1.99, year: 2014},
		{color: "#fdba71", group: "Service", id: "Cleaning and Maintenance", value: 1.07, year: 2014},
		{color: "#fdba71", group: "Service", id: "Personal Care and Service", value: 2.34, year: 2014},
		{color: "#2fa3a2", group: "Sales & Office", id: "Sales", value: 6.73, year: 2014},
		{color: "#2fa3a2", group: "Sales & Office", id: "Administrative", value: 5.92, year: 2014},
		{color: "#46778c", group: "Construction, & Maintenance", id: "Construction and Extraction", value: 0.97, year: 2014},
		{color: "#46778c", group: "Construction, & Maintenance", id: "Installation, Maintenance and Repair", value: 0.68, year: 2014},
		{color: "#595297", group: "Production & Transportation", id: "Production", value: 1.16, year: 2014}
		];
	new d3plus.Treemap()
  .data(data)
  .select("#viz")
  .time("year")
  .title("Employment by Occupations, 2012-2016")
  .groupBy(["group", "id"])
  .shapeConfig({
    labelConfig: {
      fontFamily: "Century Gothic",
      fontMax: 50
		}
	})
	.shapeConfig({
    fill: function(d) {
      return d.color;
    }
  })
	.tooltipConfig({
    body: function(d) {
      var table = "<table class='tooltip-table'>";
      table += "<tr><td class='title'>Year:</td><td class='data'>" + d.year + "</td></tr>";
	  table += "<tr><td class='title'>Employees:</td><td class='data'>" + d.employees + "</td></tr>";
      table += "<tr><td class='title'>Percentage:</td><td class='data'>" + d.value + "</td></tr>";
	  table += "<tr><td class='title'>Group:</td><td class='data'>" + d.group + "</td></tr>";
      table += "</table>";
      return table;
    },
    footer: function(d) {
      return "<sub class='tooltip-footer'>Data Collected in 2018</sub>";
    },
    title: function(d) {
      var txt = d.id;
      return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();;
    }
  })
  .render();
		</script>
	</body>
</html>	
	